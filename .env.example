# Dynamic Graph Fed-RL Environment Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# Environment Settings
# =============================================================================
DGFRL_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# JAX Configuration
# =============================================================================
# Platform: cpu, gpu, tpu
JAX_PLATFORM_NAME=cpu
# Enable 64-bit precision (recommended for research)
JAX_ENABLE_X64=true
# Memory preallocation (false for development, true for production)
XLA_PYTHON_CLIENT_PREALLOCATE=false
# GPU memory fraction (0.0-1.0)
XLA_PYTHON_CLIENT_MEM_FRACTION=0.8

# =============================================================================
# PyTorch Configuration  
# =============================================================================
# Number of threads for CPU operations
TORCH_NUM_THREADS=4
# CUDA settings
CUDA_VISIBLE_DEVICES=0
# Mixed precision training
TORCH_AUTOCAST_ENABLED=true

# =============================================================================
# Database Configuration
# =============================================================================
# Redis for caching and message passing
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# PostgreSQL for experiment tracking (optional)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=dgfrl
POSTGRES_USER=dgfrl_user
POSTGRES_PASSWORD=secure_password

# =============================================================================
# Monitoring and Observability
# =============================================================================
# Prometheus metrics
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
METRICS_PORT=8001

# Grafana dashboard
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=admin123

# Weights & Biases (wandb)
WANDB_ENTITY=your_team
WANDB_PROJECT=dynamic-graph-fed-rl
WANDB_MODE=online
WANDB_API_KEY=your_wandb_api_key

# TensorBoard
TENSORBOARD_PORT=6006
TENSORBOARD_LOG_DIR=./logs/tensorboard

# =============================================================================
# API Server Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=true

# CORS settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# Security Configuration
# =============================================================================
# JWT settings
JWT_SECRET_KEY=your-super-secure-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# API key for external services
API_KEY=your-api-key

# Encryption key for sensitive data
ENCRYPTION_KEY=your-encryption-key

# =============================================================================
# Federated Learning Configuration
# =============================================================================
# Communication protocol: sync_averaging, async_gossip, hierarchical
FED_COMMUNICATION_PROTOCOL=async_gossip

# Number of federated agents
FED_NUM_AGENTS=10

# Aggregation settings
FED_AGGREGATION_INTERVAL=100
FED_COMPRESSION_TYPE=top_k
FED_COMPRESSION_RATIO=0.1

# Byzantine fault tolerance
FED_BYZANTINE_ROBUSTNESS=true
FED_MAX_BYZANTINE_AGENTS=0.33

# Privacy settings
FED_DIFFERENTIAL_PRIVACY=false
FED_DP_EPSILON=1.0
FED_DP_DELTA=1e-5

# =============================================================================
# Training Configuration
# =============================================================================
# Default hyperparameters
LEARNING_RATE=3e-4
BATCH_SIZE=256
BUFFER_SIZE=100000
GAMMA=0.99
TAU=0.005

# Training settings
MAX_EPISODES=1000
MAX_STEPS_PER_EPISODE=1000
EVAL_FREQUENCY=100
SAVE_FREQUENCY=500

# Model checkpointing
CHECKPOINT_DIR=./models/checkpoints
SAVE_BEST_ONLY=true
EARLY_STOPPING_PATIENCE=50

# =============================================================================
# Environment Configuration
# =============================================================================
# Default environment settings
ENV_NAME=traffic_network
ENV_NUM_NODES=100
ENV_TIME_VARYING=true
ENV_EDGE_FAILURE_RATE=0.01

# Rendering settings
ENV_RENDER_MODE=rgb_array
ENV_RENDER_FPS=30

# Data generation
ENV_SEED=42
ENV_DETERMINISTIC=false

# =============================================================================
# Distributed Computing
# =============================================================================
# Ray cluster configuration
RAY_ADDRESS=auto
RAY_NUM_CPUS=8
RAY_NUM_GPUS=1
RAY_OBJECT_STORE_MEMORY=2000000000

# Kubernetes settings (for production)
K8S_NAMESPACE=dgfrl
K8S_SERVICE_ACCOUNT=dgfrl-sa
K8S_CLUSTER_NAME=dgfrl-cluster

# =============================================================================
# Data Storage
# =============================================================================
# Local data directories
DATA_DIR=./data
MODELS_DIR=./models
LOGS_DIR=./logs
EXPERIMENTS_DIR=./experiments

# Cloud storage (optional)
S3_BUCKET=dgfrl-data
S3_REGION=us-west-2
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key

# Google Cloud Storage (optional)
GCS_BUCKET=dgfrl-data
GCS_PROJECT_ID=your-gcp-project
GCS_CREDENTIALS_PATH=./gcp-credentials.json

# =============================================================================
# Logging Configuration
# =============================================================================
# Log levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=./logs/dgfrl.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# Structured logging
STRUCTURED_LOGGING=true
LOG_CORRELATION_ID=true

# =============================================================================
# Performance Tuning
# =============================================================================
# Memory settings
MAX_MEMORY_USAGE=8GB
GARBAGE_COLLECTION_THRESHOLD=0.8

# Parallelization
NUM_WORKERS=4
PREFETCH_FACTOR=2
PERSISTENT_WORKERS=true

# Optimization flags
OPTIMIZE_MEMORY=true
USE_MIXED_PRECISION=true
COMPILE_MODE=true

# =============================================================================
# Development and Testing
# =============================================================================
# Testing configuration
TEST_PARALLEL=true
TEST_COVERAGE_THRESHOLD=80
TEST_TIMEOUT=300

# Development tools
AUTO_RELOAD=true
DEBUG_MODE=true
PROFILING_ENABLED=false

# Code quality
LINT_ON_SAVE=true
FORMAT_ON_SAVE=true
TYPE_CHECK_ON_SAVE=true

# =============================================================================
# External Services
# =============================================================================
# MLflow tracking (optional)
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=dgfrl-experiments

# Slack notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/your-webhook-url
SLACK_CHANNEL=#dgfrl-alerts

# Email notifications (optional)  
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=dgfrl-system@your-domain.com
EMAIL_TO=team@your-domain.com